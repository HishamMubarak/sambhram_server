(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(e,t,a){e.exports=a(96)},96:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(26),c=a.n(r),s=a(10),o=a(11),i=a(14),u=a(12),h=a(13),m=a(18),d=a(25),p=a(7),f=a(16),E=a(97),b=a(98),g=a(99),j=a(100),v=a(101),S=a(102),A=a(103),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a.state={isOpen:!1},a.handleLogout=a.handleLogout.bind(Object(p.a)(Object(p.a)(a))),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleLogout",value:function(){this.props.logout()}},{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(E.a,{color:"light",light:!0,expand:"md"},l.a.createElement(b.a,{onClick:this.toggle}),l.a.createElement(g.a,{tag:f.b,to:"/"},"College Dashboard"),l.a.createElement(j.a,{isOpen:this.state.isOpen,navbar:!0},l.a.createElement(v.a,{className:"ml-auto",navbar:!0},l.a.createElement(S.a,null,l.a.createElement(A.a,{tag:f.b,to:"/"},"Home")),2===this.props.roleId&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement(S.a,null,l.a.createElement(A.a,{tag:f.b,to:"/dept"},"Departments")),l.a.createElement(S.a,null,l.a.createElement(A.a,{tag:f.b,to:"/teacher"},"Teacher")),l.a.createElement(S.a,null,l.a.createElement(A.a,{tag:f.b,to:"/notifications"},"Notifications"))),l.a.createElement(S.a,{onClick:this.handleLogout},l.a.createElement(A.a,null,"Logout"))))))}}]),t}(n.Component),y=Object(m.b)(function(e){return{roleId:e.auth.roleId}},{logout:function(){return{type:"logout"}}})(N),D=a(15),w=a(4),O=a(110),C=a(111),I=a(112),k=a(114),T=a(115),F=a(116),B=a(117),_=a(8),x=a.n(_),M=a(120),P=a(104),L=a(105),z=a(106),R=a(107),J=a(108),W=a(109),H=a(113),U=function(e){return l.a.createElement(M.a,{isOpen:e.isOpen},l.a.createElement(P.a,null,l.a.createElement(L.a,null,e.fields.map(function(t){return l.a.createElement(z.a,{key:t.fieldName},l.a.createElement(R.a,{for:t.fieldName},"Enter ",t.placeholder),l.a.createElement(J.a,{type:t.type||"text",name:t.fieldName,onChange:e.handleInputChange,value:t.value||""}))}),e.selectFields&&e.selectFields.map(function(t){return l.a.createElement(z.a,{key:t.fieldName},l.a.createElement(R.a,{for:t.fieldName},"Select"),l.a.createElement(J.a,{value:t.value,type:"select",name:t.fieldName,id:t.fieldName,onChange:e.handleInputChange},t.data.map(function(e){return l.a.createElement("option",{key:e._id,value:e._id},e.name)})))}))),l.a.createElement(W.a,null,l.a.createElement(O.a,null,l.a.createElement(C.a,null,l.a.createElement(I.a,null,l.a.createElement(H.a,{isOpen:e.showEnterAllDataAlert,color:"danger"},"Enter all data before submitting"))),l.a.createElement(C.a,null,l.a.createElement(I.a,null,l.a.createElement(k.a,{color:"primary",block:!0,onClick:e.onSubmit},"Submit"),e.showDeleteButton&&l.a.createElement(k.a,{color:"danger",block:!0,onClick:e.onDelete},"Delete"),l.a.createElement(k.a,{color:"secondary",block:!0,onClick:e.onCancel},"Cancel"))))))},$={courseId:null,batchName:null,showAddBatchModal:!1,showEditBatchModal:!1,showEnterAllDataAlert:!1,notificationTitle:null,notificationText:null,showNotificationModal:!1,departmentId:null},q=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({},$),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchCourses()}},{key:"sendCollegeNotification",value:function(){var e=this,t=this.state,a=t.notificationText,n=t.notificationTitle;if(a&&n){var l={title:n,description:a};this.state.departmentId&&(l.departmentId=this.state.departmentId),x.a.post("/notification",l).then(function(t){return e.setState(Object(w.a)({},$))}).catch(function(e){return console.log(e)})}else this.setState({showEnterAllDataAlert:!0})}},{key:"fetchCourses",value:function(){var e=this;x.a.get("/department/".concat(this.props.auth.department)).then(function(t){e.setState({department:t.data})}).catch(function(e){return console.log(e)})}},{key:"addBatch",value:function(){var e=this;this.state.batchName?x.a.put("/batch",{name:this.state.batchName,course:this.state.courseId,department:this.state.department[0]._id}).then(function(t){e.fetchCourses(),e.setState(Object(w.a)({},$))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!1})}},{key:"editBatch",value:function(){var e=this;this.state.batchName&&this.state.batchId?x.a.post("/batch/".concat(this.state.batchId),{name:this.state.batchName}).then(function(t){e.fetchCourses(),e.setState(Object(w.a)({},$))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteBatch",value:function(){var e=this;this.state.batchId?x.a.delete("/batch/".concat(this.state.batchId)).then(function(t){e.fetchCourses(),e.setState(Object(w.a)({},$))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!1})}},{key:"render",value:function(){var e=this;return this.state.department&&this.state.department.length>0?l.a.createElement(O.a,{style:{marginTop:50}},l.a.createElement(U,{isOpen:this.state.showAddBatchModal,handleInputChange:this.handleInputChange,fields:[{fieldName:"batchName",value:this.state.batchName,placeholder:"Batch Name"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addBatch()},onCancel:function(){return e.setState(Object(w.a)({},$))}}),l.a.createElement(U,{isOpen:this.state.showEditBatchModal,handleInputChange:this.handleInputChange,fields:[{fieldName:"batchName",value:this.state.batchName,placeholder:"Batch Name"}],showDeleteButton:!0,showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editBatch()},onDelete:function(){return e.deleteBatch()},onCancel:function(){return e.setState(Object(w.a)({},$))}}),l.a.createElement(U,{isOpen:this.state.showNotificationModal,handleInputChange:this.handleInputChange,fields:[{fieldName:"notificationTitle",value:this.state.notificationTitle,placeholder:"Notification Title"},{fieldName:"notificationText",value:this.state.notificationText,placeholder:"Notification Body"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.sendCollegeNotification()},onCancel:function(){return e.setState(Object(w.a)({},$))}}),this.state.department&&l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,null,l.a.createElement(I.a,null,l.a.createElement("h2",{style:{textAlign:"center"}},this.state.department[0].name),l.a.createElement(k.a,{style:{margin:10},color:"primary",onClick:function(){return e.setState({showNotificationModal:!0,departmentId:e.state.department[0]._id})}},"Send Department Notification"))),this.state.department&&this.state.department.length>0&&this.state.department.map(function(t){return l.a.createElement(C.a,{key:t.courses._id,style:{marginTop:25,marginBottom:25}},t.courses.hasOwnProperty("name")?l.a.createElement(I.a,{sm:"12"},l.a.createElement(C.a,null,l.a.createElement(I.a,{sm:"6"},l.a.createElement("h3",null,t.courses.name)),l.a.createElement(I.a,{sm:"6"},l.a.createElement(k.a,{style:{margin:10},color:"primary",onClick:function(){return e.setState({courseId:t.courses._id,showAddBatchModal:!0})}},"Add New Batch")))):l.a.createElement(I.a,{sm:"12"},l.a.createElement("h3",{style:{textAlign:"center"}},"Create a course in Department")),t.courses.batches.map(function(t){return l.a.createElement(I.a,{key:t._id,sm:"4"},l.a.createElement(T.a,null,l.a.createElement(F.a,null,l.a.createElement(B.a,null,t.name),l.a.createElement(f.b,{style:{margin:10,textDecoration:"none",color:"white"},to:"/batch/".concat(t._id)},l.a.createElement(k.a,{color:"primary"},"Details")),l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({batchId:t._id,batchName:t.name,showEditBatchModal:!0})}},"Edit"))))}))}))):l.a.createElement("p",null,"No departments found")}}]),t}(n.Component),G=Object(m.b)(function(e){return{auth:e.auth}})(q),K=a(118),Q={deptId:null,departmentName:"",showAddDeptForm:!1,showEditDeptForm:!1,showEnterAllDataAlert:!1,showAddCourseForm:!1,showEditCourseForm:!1},V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({departments:""},Q,{openTab:0}),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchDepartments()}},{key:"fetchDepartments",value:function(){var e=this;x.a.get("/department").then(function(t){e.setState({departments:t.data})}).catch(function(e){return console.log(e)})}},{key:"addDept",value:function(){var e=this;this.state.departmentName?x.a.put("/department",{name:this.state.departmentName}).then(function(t){return e.setState(Object(w.a)({departments:e.state.departments.concat(t.data)},Q))}).catch(function(e){alert("Server error. Please try again later"),console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"editDept",value:function(){var e=this;this.state.departmentName?x.a.post("/department/".concat(this.state.deptId),{name:this.state.departmentName}).then(function(t){e.fetchDepartments(),e.setState(Object(w.a)({},Q))}).catch(function(e){alert("Server error. Please try again later"),console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteDept",value:function(){var e=this;this.state.deptId?x.a.delete("/department/".concat(this.state.deptId)).then(function(t){e.setState(Object(w.a)({departments:e.state.departments.filter(function(e){return e._id!==t.data._id})},Q))}).catch(function(e){return console.log(e)}):alert("Error occurred")}},{key:"addCourse",value:function(){var e=this;this.state.deptId&&this.state.courseName?x.a.put("/course",{department:this.state.deptId,name:this.state.courseName}).then(function(t){e.fetchDepartments(),e.setState(Object(w.a)({},Q))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{style:{marginTop:100}},l.a.createElement(U,{isOpen:this.state.showAddDeptForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"departmentName",value:this.state.departmentName,placeholder:"Department Name"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addDept()},onCancel:function(){return e.setState(Object(w.a)({},Q))}}),l.a.createElement(U,{isOpen:this.state.showEditDeptForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"departmentName",value:this.state.departmentName,placeholder:"Department Name"}],showDeleteButton:this.state.showEditDeptForm,onDelete:function(){return e.deleteDept()},showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editDept()},onCancel:function(){return e.setState(Object(w.a)({},Q))}}),l.a.createElement(U,{isOpen:this.state.showAddCourseForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"courseName",value:this.state.courseName,placeholder:"Course Name"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addCourse()},onCancel:function(){return e.setState(Object(w.a)({},Q))}}),l.a.createElement(O.a,null,l.a.createElement(C.a,null,this.state.departments&&this.state.departments.length>0?this.state.departments.map(function(t,a){return l.a.createElement(I.a,{key:t._id,sm:"12"},l.a.createElement(k.a,{onClick:function(){return e.setState(e.state.openTab===a?{openTab:-1}:{openTab:a})},size:"lg",outline:!0,color:"primary",block:!0},t.name),l.a.createElement(j.a,{isOpen:a===e.state.openTab},l.a.createElement(T.a,{style:{marginBottom:20}},l.a.createElement(C.a,null,l.a.createElement(I.a,null,l.a.createElement(k.a,{style:{margin:5},color:"primary",onClick:function(){return e.setState({deptId:t._id,courseName:"",showAddCourseForm:!0})}},"Add New Course"),l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({deptId:t._id,departmentName:t.name,showAddDeptForm:!1,showEditDeptForm:!0})}},"Edit"))),l.a.createElement(C.a,null,l.a.createElement(I.a,null,l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Courses"),l.a.createElement("th",null,"Actions"))),t.courses&&t.courses.length>0?t.courses.map(function(e,t){return l.a.createElement("tbody",{key:e._id},l.a.createElement("tr",null,l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement(f.b,{style:{margin:10,textDecoration:"none",color:"white"},to:"/course/".concat(e._id)},l.a.createElement(k.a,{color:"primary"},"Details")))))}):l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",{style:{textAlign:"center"}},"No Courses. Add Some."))))))))))}):l.a.createElement(I.a,null,l.a.createElement("p",{style:{textAlign:"center"}},"No Departments Found"))),l.a.createElement(C.a,null,l.a.createElement(I.a,{style:{padding:20}},l.a.createElement(k.a,{block:!0,color:"primary",onClick:function(){return e.setState({showAddDeptForm:!0})}},"Add New Department")))))}}]),t}(n.Component),X={showEnterAllDataAlert:!1,showEditCourseForm:!1,courseName:null,showAddSubjectForm:null,subjectName:null,subjectSemester:null,showEditSubjectForm:null},Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({course:null,openTab:-1},X),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchCourseDetails(this.props.match.params.courseId)}},{key:"fetchCourseDetails",value:function(e){var t=this;x.a.get("/course/".concat(e)).then(function(e){var a=e.data[0],n={};a.subjects.forEach(function(e){n[e.semester]?n[e.semester].push(e):n[e.semester]=[e]}),t.setState({course:a,subjects:n})}).catch(function(e){return console.log(e)})}},{key:"editCourse",value:function(){var e=this;this.state.courseName&&this.state.courseId?x.a.post("/course/".concat(this.state.courseId),{name:this.state.courseName}).then(function(t){e.fetchCourseDetails(e.props.match.params.courseId),e.setState(Object(w.a)({},X))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteCourse",value:function(){var e=this;this.props.match.params.courseId&&x.a.delete("/course/".concat(this.props.match.params.courseId)).then(function(t){e.props.history.goBack()}).catch(function(e){return console.log(e)})}},{key:"addSubject",value:function(){var e=this,t=this.state,a=t.subjectName,n=t.subjectSemester;a&&n?x.a.put("/subject",{name:a,semester:n,course:this.props.match.params.courseId}).then(function(t){e.fetchCourseDetails(e.props.match.params.courseId),e.setState(Object(w.a)({},X))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"editSubject",value:function(){var e=this,t=this.state,a=t.subjectName,n=t.subjectSemester,l=t.subjectId;a&&n&&l?x.a.post("/subject/".concat(l),{name:a,semester:n}).then(function(t){e.fetchCourseDetails(e.props.match.params.courseId),e.setState(Object(w.a)({},X))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteSubject",value:function(){var e=this,t=this.state.subjectId;t?x.a.delete("/subject/".concat(t)).then(function(t){e.fetchCourseDetails(e.props.match.params.courseId),e.setState(Object(w.a)({},X))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"render",value:function(){var e=this;if(this.state.course){var t=this.state.course;return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{isOpen:this.state.showEditCourseForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"courseName",value:this.state.courseName,placeholder:"Course Name"}],showDeleteButton:this.state.showEditCourseForm,showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editCourse()},onDelete:function(){return e.deleteCourse()},onCancel:function(){return e.setState(Object(w.a)({},X))}}),l.a.createElement(U,{isOpen:this.state.showAddSubjectForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"subjectName",value:this.state.subjectName,placeholder:"Subject Name"},{fieldName:"subjectSemester",value:this.state.subjectSemester,placeholder:"Semester",type:"number"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addSubject()},onCancel:function(){return e.setState(Object(w.a)({},X))}}),l.a.createElement(U,{isOpen:this.state.showEditSubjectForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"subjectName",value:this.state.subjectName,placeholder:"Subject Name"},{fieldName:"subjectSemester",value:this.state.subjectSemester,placeholder:"Semester",type:"number"}],showDeleteButton:this.state.showEditSubjectForm,showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editSubject()},onDelete:function(){return e.deleteSubject()},onCancel:function(){return e.setState(Object(w.a)({},X))}}),l.a.createElement(O.a,null,l.a.createElement(C.a,{style:{marginTop:50,marginBottom:50}},l.a.createElement(I.a,null,l.a.createElement(T.a,null,l.a.createElement(F.a,null,l.a.createElement(C.a,null,l.a.createElement(I.a,{sm:"12"},l.a.createElement(B.a,null,t.name))),l.a.createElement(C.a,{style:{margin:10,marginTop:20}},l.a.createElement(k.a,{style:{margin:10},onClick:function(){return e.setState({subjectName:"",subjectSemester:null,showAddSubjectForm:!0})},color:"primary"},"Add Subject"),l.a.createElement(k.a,{color:"primary",style:{margin:10},onClick:function(){return e.setState({courseId:t._id,courseName:t.name,showEditCourseForm:!0})}},"Edit")))))),l.a.createElement(C.a,null,this.state.subjects&&Object.keys(this.state.subjects).length>0&&Object.keys(this.state.subjects).map(function(t,a){var n=e.state.subjects[t];return l.a.createElement(I.a,{sm:"12",key:t},l.a.createElement(k.a,{onClick:function(){return e.setState(e.state.openTab===a?{openTab:-1}:{openTab:a})},size:"lg",outline:!0,color:"primary",block:!0},"Semester : ",t),l.a.createElement(j.a,{isOpen:e.state.openTab===a},l.a.createElement(T.a,null,l.a.createElement(C.a,null,n&&n.length>0&&l.a.createElement(I.a,null,l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Subject Name"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,n.map(function(a,n){return l.a.createElement("tr",{key:a._id},l.a.createElement("td",null,n+1),l.a.createElement("td",null,a.name),l.a.createElement("td",null,l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({subjectName:a.name,subjectId:a._id,subjectSemester:t,showEditSubjectForm:!0})}},"Edit")))}))))))))}))))}return l.a.createElement("p",null,"Loading...")}}]),t}(n.Component),Z=a(119),ee={studentName:null,mobile:null,mail:null,address:null,registerNumber:null,showAddStudentForm:!1,showEnterAllDataAlert:!1,showNotificationModal:!1,notificationTitle:null,notificationText:null},te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({batchData:null,students:null},ee),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchBatchDetailsAndStudents(this.props.match.params.batchId)}},{key:"sendBatchNotification",value:function(){var e=this,t=this.state,a=t.notificationText,n=t.notificationTitle;a&&n?x.a.post("/notification",{title:n,description:a,batchId:this.props.match.params.batchId}).then(function(t){return e.setState(Object(w.a)({},ee))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"fetchBatchDetailsAndStudents",value:function(e){var t=this;x.a.get("/batch/".concat(e)).then(function(e){t.setState({batchData:e.data.batchData[0],students:e.data.students})}).catch(function(e){return console.log(e)})}},{key:"addStudent",value:function(){var e=this,t=this.state,a=t.studentName,n=t.mobile,l=t.mail,r=t.address,c=t.registerNumber;if(a&&n&&l&&r&&c){var s=this.state.batchData.department[0]._id,o=this.state.batchData.course[0]._id,i=this.state.batchData._id;x.a.put("/student",{department:s,course:o,batch:i,name:a,mobile:n,mail:l,address:r,registerNumber:c}).then(function(t){e.setState(function(e){return e.students.push(t.data),Object(w.a)({students:e.students},ee)})}).catch(function(e){return console.log(e)})}else this.setState({showEnterAllDataAlert:!0})}},{key:"render",value:function(){var e=this;return this.state.batchData?l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{isOpen:this.state.showAddStudentForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"studentName",value:this.state.studentName,placeholder:"Student Name"},{fieldName:"mobile",value:this.state.mobile,placeholder:"Mobile"},{fieldName:"mail",value:this.state.mail,placeholder:"E-Mail"},{fieldName:"address",value:this.state.address,placeholder:"Address"},{fieldName:"registerNumber",value:this.state.registerNumber,placeholder:"Register Number"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addStudent()},onCancel:function(){return e.setState(Object(w.a)({},ee))}}),l.a.createElement(U,{isOpen:this.state.showNotificationModal,handleInputChange:this.handleInputChange,fields:[{fieldName:"notificationTitle",value:this.state.notificationTitle,placeholder:"Notification Title"},{fieldName:"notificationText",value:this.state.notificationText,placeholder:"Notification Body"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.sendBatchNotification()},onCancel:function(){return e.setState(Object(w.a)({},ee))}}),l.a.createElement(O.a,null,l.a.createElement(C.a,{style:{marginTop:50,marginBottom:50}},l.a.createElement(I.a,null,l.a.createElement(T.a,null,l.a.createElement(F.a,null,l.a.createElement(C.a,null,l.a.createElement(I.a,{sm:"12"},l.a.createElement(B.a,null,"Department : ",this.state.batchData.department[0].name),l.a.createElement(Z.a,null,"Course : ",this.state.batchData.course[0].name),l.a.createElement(Z.a,null,"Batch : ",this.state.batchData.name))),l.a.createElement(C.a,{style:{margin:10,marginTop:20}},l.a.createElement(k.a,{color:"primary",style:{margin:10},onClick:function(){return e.setState({showAddStudentForm:!0})}},"Add Student"),l.a.createElement(k.a,{color:"primary",style:{margin:10},onClick:function(){return e.setState({showNotificationModal:!0})}},"Send Batch Notification")))))),l.a.createElement(C.a,null,l.a.createElement(I.a,null,this.state.students&&this.state.students.length>0&&l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Register Numer"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.students.map(function(e,t){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.registerNumber),l.a.createElement("td",null,l.a.createElement(f.b,{to:"/student/".concat(e._id),style:{textDecoration:"none",color:"white"}},l.a.createElement(k.a,{color:"link"},"Details"))))}))))))):l.a.createElement("p",{style:{textAlign:"center"}},"Fetching data....")}}]),t}(n.Component),ae=a(36),ne={showAddTeacherForm:!1,showEditTeacherForm:!1,showEnterAllDataAlert:!1},le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({teachers:[]},ne),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchDepartments(),this.getTeachers()}},{key:"fetchDepartments",value:function(){var e=this;x.a.get("/department").then(function(t){e.setState({departments:t.data})}).catch(function(e){return console.log(e)})}},{key:"getTeachers",value:function(){var e=this;x.a.get("/teacher").then(function(t){e.setState(Object(w.a)({teachers:t.data},ne))}).catch(function(e){return console.log(e)})}},{key:"addTeacher",value:function(){var e=this,t=this.state,a=t.teacherName,n=t.teacherEmail,l=t.teacherPassword,r=t.teacherDepartment;a&&n&&l&&r&&"1"!==r?x.a.put("/teacher",{name:a,email:n,password:l,department:r}).then(function(t){e.getTeachers(),e.setState(Object(w.a)({},ne))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"editTeacher",value:function(){var e=this,t=this.state,a=t.teacherId,n=t.teacherName,l=t.teacherEmail,r=t.teacherDepartment;a&&n&&l&&r&&"1"!==r?x.a.post("/teacher/".concat(a),{name:n,teacherEmail:l,department:r}).then(function(t){e.setState(Object(w.a)({},ne)),e.getTeachers()}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteTeacher",value:function(){var e=this,t=this.state.teacherId;t?x.a.delete("/teacher/".concat(t)).then(function(t){e.getTeachers(),e.setState(Object(w.a)({},ne))}):alert("Error occurred")}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,this.state.departments&&l.a.createElement(U,{isOpen:this.state.showAddTeacherForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"teacherName",value:this.state.teacherName,placeholder:"Name"},{fieldName:"teacherEmail",value:this.state.teacherEmail,placeholder:"Email"},{fieldName:"teacherPassword",value:this.state.teacherPassword,placeholder:"Password",type:"password"}],selectFields:[{data:[{_id:"1",name:"Select Department"}].concat(Object(ae.a)(this.state.departments)),fieldName:"teacherDepartment",value:this.state.teacherDepartment}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.addTeacher()},onCancel:function(){return e.setState(Object(w.a)({},ne))}}),this.state.departments&&l.a.createElement(U,{isOpen:this.state.showEditTeacherForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"teacherName",value:this.state.teacherName,placeholder:"Name"},{fieldName:"teacherEmail",value:this.state.teacherEmail,placeholder:"Email"}],selectFields:[{data:[{_id:"1",name:"Select Department"}].concat(Object(ae.a)(this.state.departments)),fieldName:"teacherDepartment",value:this.state.teacherDepartment}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,showDeleteButton:this.state.showEditTeacherForm,onDelete:function(){return e.deleteTeacher()},onSubmit:function(){return e.editTeacher()},onCancel:function(){return e.setState(Object(w.a)({},ne))}}),l.a.createElement(O.a,null,l.a.createElement(C.a,null,l.a.createElement(I.a,{style:{padding:20}},l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({showAddTeacherForm:!0})}},"Add New Teacher"))),l.a.createElement(C.a,null,this.state.teachers&&this.state.teachers.length>0&&l.a.createElement(I.a,null,l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Department"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,this.state.teachers.map(function(t,a){return l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.email),l.a.createElement("td",null,t.department.name),l.a.createElement("td",null,l.a.createElement(k.a,{color:"link",onClick:function(){return e.setState({teacherName:t.name,teacherEmail:t.email,teacherDepartment:t.department._id,teacherId:t._id,showEditTeacherForm:!0})}},"Edit")))})))))))}}]),t}(n.Component),re={showEditStudentForm:!1,showEditSubjectForm:!1,showEnterAllDataAlert:!1},ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({openTab:0},re),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchStudentDetails(this.props.match.params.studentId)}},{key:"fetchStudentDetails",value:function(e){var t=this;x.a.get("/student/".concat(e)).then(function(e){t.fetchCourseDetails(e.data.course._id,e.data),t.setState({student:e.data})}).catch(function(e){return console.log(e)})}},{key:"fetchCourseDetails",value:function(e,t){var a=this;x.a.get("/course/".concat(e)).then(function(e){var n=e.data[0],l={};n.subjects.forEach(function(e){l[e.semester]?l[e.semester].push(e):l[e.semester]=[e]}),a.setState({course:n}),a.combineSubjectAndStudent(l,t)}).catch(function(e){return console.log(e)})}},{key:"combineSubjectAndStudent",value:function(e,t){t.subjectData||(t.subjectData=[]);var a=t.subjectData;Object.keys(e).map(function(t,n){return e[t].map(function(n,l){var r=a.filter(function(e){return e.subjectId===n._id});return r.length>0?e[t][l].subjectData=r[0]:e[t][l].subjectData={subjectId:n._id,firstInternal:null,secondInternal:null,attendacePercentage:null}})}),this.setState({subjects:e})}},{key:"editSubjectDetails",value:function(){var e=this,t=this.state,a=t.editingSubjectId,n=t.firstInternal,l=t.secondInternal,r=t.attendancePercentage;a&&n&&l&&r?x.a.post("/student/".concat(this.props.match.params.studentId,"/updateSubjectData"),{editingSubjectId:a,firstInternal:n,secondInternal:l,attendancePercentage:r}).then(function(t){e.fetchStudentDetails(e.props.match.params.studentId),e.setState(Object(w.a)({},re))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"editStudentDetails",value:function(){var e=this,t=this.state,a=t.studentId,n=t.studentName,l=t.mobile,r=t.mail,c=t.address,s=t.registerNumber;a&&n&&l&&r&&c&&s?x.a.post("/student/".concat(a),{name:n,mobile:l,mail:r,address:c,registerNumber:s}).then(function(t){e.fetchStudentDetails(e.props.match.params.studentId),e.setState(Object(w.a)({},re))}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0})}},{key:"deleteStudent",value:function(){var e=this,t=this.state.studentId;t?x.a.delete("/student/".concat(t)).then(function(t){e.props.history.goBack(),e.setState(Object(w.a)({},re))}).catch(function(e){return console.log(e)}):alert("Error occurred")}},{key:"render",value:function(){var e=this,t=this.state.student;return this.state.student?l.a.createElement("div",null,l.a.createElement(U,{isOpen:this.state.showEditStudentForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"studentName",value:this.state.studentName,placeholder:"Student Name"},{fieldName:"mobile",value:this.state.mobile,placeholder:"Mobile"},{fieldName:"mail",value:this.state.mail,placeholder:"E-Mail"},{fieldName:"address",value:this.state.address,placeholder:"Address"},{fieldName:"registerNumber",value:this.state.registerNumber,placeholder:"Register Number"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editStudentDetails()},showDeleteButton:this.state.showEditStudentForm,onDelete:function(){return e.deleteStudent()},onCancel:function(){return e.setState(Object(w.a)({},re))}}),l.a.createElement(U,{isOpen:this.state.showEditSubjectForm,handleInputChange:this.handleInputChange,fields:[{fieldName:"firstInternal",value:this.state.firstInternal,placeholder:"First Internal Marks",type:"number"},{fieldName:"secondInternal",value:this.state.secondInternal,placeholder:"Second Internal Marks",type:"number"},{fieldName:"attendancePercentage",value:this.state.attendancePercentage,placeholder:"Attendance Percentage",type:"number"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.editSubjectDetails()},onCancel:function(){return e.setState(Object(w.a)({},re))}}),l.a.createElement(O.a,null,l.a.createElement(C.a,{style:{marginTop:50,marginBottom:50}},l.a.createElement(I.a,null,l.a.createElement(T.a,null,l.a.createElement(F.a,null,l.a.createElement(C.a,null,l.a.createElement(I.a,{sm:"6"},l.a.createElement(B.a,null,t.name),l.a.createElement(Z.a,null,t.registerNumber),l.a.createElement(Z.a,null,t.course.name),l.a.createElement(Z.a,null,t.batch.name," ",t.course.name)),l.a.createElement(I.a,{sm:"6"},l.a.createElement(Z.a,null,t.mobile),l.a.createElement(Z.a,null,t.address),l.a.createElement(Z.a,null,t.mail))),l.a.createElement(C.a,{style:{margin:10,marginTop:20}},l.a.createElement(k.a,{color:"primary",onClick:function(){e.setState({studentId:t._id,studentName:t.name,mobile:t.mobile,mail:t.mail,address:t.address,registerNumber:t.registerNumber},function(){return e.setState({showEditStudentForm:!0})})}},"Edit Detail")))))),l.a.createElement(C.a,null,this.state.subjects&&Object.keys(this.state.subjects).length>0&&Object.keys(this.state.subjects).map(function(t,a){var n=e.state.subjects[t];return l.a.createElement(I.a,{sm:"12",key:t},l.a.createElement(k.a,{onClick:function(){return e.setState(e.state.openTab===a?{openTab:-1}:{openTab:a})},size:"lg",outline:!0,color:"primary",block:!0},"Semester : ",t),l.a.createElement(j.a,{isOpen:e.state.openTab===a},l.a.createElement(T.a,null,l.a.createElement(C.a,null,n&&n.length>0&&l.a.createElement(I.a,null,l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No"),l.a.createElement("th",null,"Subject Name"),l.a.createElement("th",null,"1st Internal"),l.a.createElement("th",null,"2nd Internal"),l.a.createElement("th",null,"Attendance"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,n.map(function(t,a){return l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.subjectData.firstInternal||"NA"),l.a.createElement("td",null,t.subjectData.secondInternal||"NA"),l.a.createElement("td",null,t.subjectData.attendancePercentage||"NA"),l.a.createElement("td",null,l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({editingSubjectId:t._id,firstInternal:t.subjectData.firstInternal,secondInternal:t.subjectData.secondInternal,attendancePercentage:t.subjectData.attendancePercentage,showEditSubjectForm:!0})}},"Edit")))}))))))))})))):l.a.createElement("p",null,"Loading")}}]),t}(n.Component),se={courseId:null,batchName:null,showAddBatchModal:!1,showEditBatchModal:!1,showEnterAllDataAlert:!1,notificationTitle:null,notificationText:null,showNotificationModal:!1,departmentId:null},oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state=Object(w.a)({notifications:[]},se),a.handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"fetchNotifications",value:function(){var e=this;x.a.get("/notification").then(function(t){e.setState({notifications:t.data})}).catch(function(e){return console.log(e)})}},{key:"componentDidMount",value:function(){this.fetchNotifications()}},{key:"deleteNotification",value:function(e){var t=this;x.a.delete("/notification/".concat(e)).then(function(e){return t.fetchNotifications()}).catch(function(e){return console.log(e)})}},{key:"sendCollegeNotification",value:function(){var e=this,t=this.state,a=t.notificationText,n=t.notificationTitle;if(a&&n){var l={title:n,description:a};this.state.departmentId&&(l.departmentId=this.state.departmentId),x.a.post("/notification",l).then(function(t){e.fetchNotifications(),e.setState(Object(w.a)({},se))}).catch(function(e){return console.log(e)})}else this.setState({showEnterAllDataAlert:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement(O.a,null,l.a.createElement(U,{isOpen:this.state.showNotificationModal,handleInputChange:this.handleInputChange,fields:[{fieldName:"notificationTitle",value:this.state.notificationTitle,placeholder:"Notification Title"},{fieldName:"notificationText",value:this.state.notificationText,placeholder:"Notification Body"}],showEnterAllDataAlert:this.state.showEnterAllDataAlert,onSubmit:function(){return e.sendCollegeNotification()},onCancel:function(){return e.setState(Object(w.a)({},se))}}),this.state.notifications&&this.state.notifications.length>0?l.a.createElement(K.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Body"),l.a.createElement("th",null))),l.a.createElement("tbody",null,this.state.notifications.map(function(t,a){return l.a.createElement("tr",{key:t._id},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.title),l.a.createElement("td",null,t.description),l.a.createElement("td",{style:{textAlign:"right"}},l.a.createElement(k.a,{onClick:function(){return e.deleteNotification(t._id)},variant:"outline-success"},"Delete")))}))):l.a.createElement("div",{style:{marginTop:100}},l.a.createElement("p",{style:{textAlign:"center"}},"No Notifications Found")),2===this.props.roleId&&l.a.createElement(k.a,{color:"primary",onClick:function(){return e.setState({showNotificationModal:!0})}},"Send College Notification"))}}]),t}(n.Component),ie=Object(m.b)(function(e){return{roleId:e.auth.roleId}})(oe),ue=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.c,null,l.a.createElement(d.a,{path:"/",exact:!0,component:G}),l.a.createElement(d.a,{path:"/dept",exact:!0,component:V}),l.a.createElement(d.a,{path:"/course/:courseId",exact:!0,component:Y}),l.a.createElement(d.a,{path:"/batch/:batchId",exact:!0,component:te}),l.a.createElement(d.a,{path:"/student/:studentId",exact:!0,component:ce}),l.a.createElement(d.a,{path:"/teacher",exact:!0,component:le}),l.a.createElement(d.a,{path:"/notifications",exact:!0,component:ie})))},he={showEnterAllDataAlert:!1},me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.toggle=a.toggle.bind(Object(p.a)(Object(p.a)(a))),a.state=Object(w.a)({},he,{activeTab:"1",email:"",password:""}),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(e){this.state.activeTab!==e&&this.setState({activeTab:e})}},{key:"handleLogin",value:function(){var e=this,t=this.state,a=t.email,n=t.password;a&&n?x.a.post("/teacher/login",{email:a,password:n}).then(function(t){e.props.login(t.data)}).catch(function(e){return console.log(e)}):this.setState({showEnterAllDataAlert:!0},function(){setTimeout(function(){e.setState({showEnterAllDataAlert:!1})},3e3)})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(C.a,{style:{marginTop:"30vh"}},l.a.createElement(I.a,{sm:{size:6,offset:3}},l.a.createElement(C.a,null,l.a.createElement(I.a,{sm:"12"},l.a.createElement(L.a,null,l.a.createElement("h3",{style:{textAlign:"center",marginBottom:"50px"}},"Login"),l.a.createElement(z.a,null,l.a.createElement(J.a,{type:"email",name:"email",placeholder:"Enter Email",value:this.state.email||"",onChange:this.handleInputChange})),l.a.createElement(z.a,null,l.a.createElement(J.a,{type:"password",name:"password",placeholder:"Enter Password",value:this.state.password||"",onChange:this.handleInputChange})),l.a.createElement(k.a,{color:"primary",block:!0,onClick:function(){return e.handleLogin()}},"Submit")))),l.a.createElement(C.a,null,l.a.createElement(I.a,{style:{marginTop:"20px"}},l.a.createElement(H.a,{isOpen:this.state.showEnterAllDataAlert,color:"danger"},"Enter all data before submitting")))))))}}]),t}(n.Component),de=Object(m.b)(null,{login:function(e){return{type:"login",payload:e}}})(me);x.a.defaults.baseURL="http://68.183.86.29/api";var pe=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.auth._id?l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement(ue,null)):l.a.createElement(d.a,{path:"/",component:de})}}]),t}(n.Component),fe=Object(d.e)(Object(m.b)(function(e){return{auth:e.auth}})(pe));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=a(23),be=a(35),ge=a(51),je=a.n(ge),ve={_id:"",name:"",department:"",roleId:""},Se=Object(Ee.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":return Object(w.a)({},e,t.payload);case"logout":return Object(w.a)({},ve);default:return e}}}),Ae={key:"root",storage:je.a},Ne=Object(be.a)(Ae,Se),ye=Object(Ee.c)(Ne),De=Object(be.b)(ye),we=a(52);a(95);c.a.render(l.a.createElement(m.a,{store:ye},l.a.createElement(we.a,{loading:null,persistor:De},l.a.createElement(f.a,null,l.a.createElement(fe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[53,1,2]]]);
//# sourceMappingURL=main.272da319.chunk.js.map